# TrendXL 2.0 - Railway Deployment Guide

## üöÄ –°–æ–∑–¥–∞–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–≥–æ —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏—è

### Docker-—Ñ–∞–π–ª—ã

- **`Dockerfile`** - –§—Ä–æ–Ω—Ç–µ–Ω–¥ (React/Vite + Nginx)
- **`Dockerfile.backend`** - –ë—ç–∫–µ–Ω–¥ (Python FastAPI)

### Railway –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è

- **`railway.json`** - –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥–∞
- **`backend/railway.json`** - –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –±—ç–∫–µ–Ω–¥–∞
- **`railway.toml`** - –ú—É–ª—å—Ç–∏-—Å–µ—Ä–≤–∏—Å–Ω–∞—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –ø—Ä–æ–µ–∫—Ç–∞

### –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è —Å–±–æ—Ä–∫–∏

- **`.dockerignore`** - –ò—Å–∫–ª—é—á–µ–Ω–∏—è –¥–ª—è —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥–∞
- **`backend/.dockerignore`** - –ò—Å–∫–ª—é—á–µ–Ω–∏—è –¥–ª—è –±—ç–∫–µ–Ω–¥–∞

## üìã –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ –ø–æ —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏—é

### –í–∞—Ä–∏–∞–Ω—Ç 1: –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –æ–±–Ω–∞—Ä—É–∂–µ–Ω–∏–µ —á–µ—Ä–µ–∑ railway.toml

1. –ü–æ–¥–∫–ª—é—á–∏—Ç–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π –∫ Railway
2. Railway –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ–±–Ω–∞—Ä—É–∂–∏—Ç –æ–±–∞ —Å–µ—Ä–≤–∏—Å–∞ —á–µ—Ä–µ–∑ `railway.toml`
3. –ë—É–¥—É—Ç —Å–æ–∑–¥–∞–Ω—ã –¥–≤–∞ —Å–µ—Ä–≤–∏—Å–∞: `trendxl-frontend` –∏ `trendxl-backend`

### –í–∞—Ä–∏–∞–Ω—Ç 2: –û—Ç–¥–µ–ª—å–Ω—ã–µ —Å–µ—Ä–≤–∏—Å—ã —á–µ—Ä–µ–∑ railway.json

1. **–î–ª—è —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥–∞**: –°–æ–∑–¥–∞–π—Ç–µ —Å–µ—Ä–≤–∏—Å, —É–∫–∞–∑–∞–≤ –∫–æ—Ä–Ω–µ–≤—É—é –ø–∞–ø–∫—É –ø—Ä–æ–µ–∫—Ç–∞
2. **–î–ª—è –±—ç–∫–µ–Ω–¥–∞**: –°–æ–∑–¥–∞–π—Ç–µ —Å–µ—Ä–≤–∏—Å, —É–∫–∞–∑–∞–≤ –ø–∞–ø–∫—É `backend/`
3. Railway –∏—Å–ø–æ–ª—å–∑—É–µ—Ç —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–∏–µ `railway.json` —Ñ–∞–π–ª—ã

### –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è

#### –§—Ä–æ–Ω—Ç–µ–Ω–¥

- `PORT` - –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∑–∞–¥–∞–µ—Ç—Å—è Railway
- `NODE_ENV=production`

#### –ë—ç–∫–µ–Ω–¥

- `PORT` - –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∑–∞–¥–∞–µ—Ç—Å—è Railway
- `PYTHONPATH=/app`
- `PYTHONUNBUFFERED=1`
- `HOST=0.0.0.0`
- `DEBUG=false`
- `ENVIRONMENT=production`
- `LOG_LEVEL=INFO`

### Health Check Endpoints

- **–§—Ä–æ–Ω—Ç–µ–Ω–¥**: `GET /health` (–≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç "ok")
- **–ë—ç–∫–µ–Ω–¥**: `GET /health` (–¥–æ–ª–∂–µ–Ω –±—ã—Ç—å —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω –≤ FastAPI)

## üõ† –û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏

1. **–ú—É–ª—å—Ç–∏-—Å—Ç–µ–π–¥–∂ —Å–±–æ—Ä–∫–∞** - –æ–ø—Ç–∏–º–∏–∑–∏—Ä—É–µ—Ç —Ä–∞–∑–º–µ—Ä Docker-–æ–±—Ä–∞–∑–æ–≤
2. **Nginx –¥–ª—è —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥–∞** - —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–∞—è —Ä–∞–∑–¥–∞—á–∞ —Å—Ç–∞—Ç–∏—á–µ—Å–∫–∏—Ö —Ñ–∞–π–ª–æ–≤
3. **Health checks** - –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞–±–æ—Ç–æ—Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç–∏
4. **Security** - –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ non-root –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
5. **Port binding** - –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–æ–µ —Å–≤—è–∑—ã–≤–∞–Ω–∏–µ –ø–æ—Ä—Ç–æ–≤ —á–µ—Ä–µ–∑ Railway

## üîß –ö–æ–º–∞–Ω–¥—ã –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –ª–æ–∫–∞–ª—å–Ω–æ

```bash
# –°–±–æ—Ä–∫–∞ –±—ç–∫–µ–Ω–¥–∞
docker build -f Dockerfile.backend -t trendxl-backend .

# –°–±–æ—Ä–∫–∞ —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥–∞
docker build -f Dockerfile -t trendxl-frontend .

# –ó–∞–ø—É—Å–∫ –±—ç–∫–µ–Ω–¥–∞
docker run -p 8000:8000 trendxl-backend

# –ó–∞–ø—É—Å–∫ —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥–∞
docker run -p 80:80 trendxl-frontend
```

## üìù –ü—Ä–∏–º–µ—á–∞–Ω–∏—è

- Railway –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –Ω–∞–∑–Ω–∞—á–∞–µ—Ç –ø–æ—Ä—Ç—ã —á–µ—Ä–µ–∑ –ø–µ—Ä–µ–º–µ–Ω–Ω—É—é `$RAILWAY_PORT`
- –í—Å–µ —Å–µ—Ä–≤–∏—Å—ã –Ω–∞—Å—Ç—Ä–æ–µ–Ω—ã –Ω–∞ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫ –ø—Ä–∏ –æ—à–∏–±–∫–∞—Ö
- –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–∞ –¥–ª—è production-–æ–∫—Ä—É–∂–µ–Ω–∏—è
