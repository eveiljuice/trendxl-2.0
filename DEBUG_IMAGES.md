# üîç –û—Ç–ª–∞–¥–∫–∞ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π TikTok

## –ß—Ç–æ –±—ã–ª–æ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–æ:

1. ‚úÖ **–£–±—Ä–∞–Ω —Ç–µ–º–Ω—ã–π overlay** - —Ç–µ–ø–µ—Ä—å –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è –Ω–µ –∑–∞—Ç–µ–º–Ω–µ–Ω—ã
2. ‚úÖ **–ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∞ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π** - –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –ø–µ—Ä–≤–æ–µ –¥–æ—Å—Ç—É–ø–Ω–æ–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ
3. ‚úÖ **–î–æ–±–∞–≤–ª–µ–Ω–æ –ø–æ–¥—Ä–æ–±–Ω–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ** - –¥–ª—è –æ—Ç–ª–∞–¥–∫–∏ –ø—Ä–æ–±–ª–µ–º

## –ö–∞–∫ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å:

### 1. –ó–∞–ø—É—Å—Ç–∏—Ç–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ

```bash
npm run dev  # —É–∂–µ –∑–∞–ø—É—â–µ–Ω–æ –≤ —Ñ–æ–Ω–µ
```

### 2. –û—Ç–∫—Ä–æ–π—Ç–µ –±—Ä–∞—É–∑–µ—Ä –∏ –∫–æ–Ω—Å–æ–ª—å —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–∞ (F12)

### 3. –í—ã–ø–æ–ª–Ω–∏—Ç–µ –ø–æ–∏—Å–∫ –ø—Ä–æ—Ñ–∏–ª—è TikTok

- –í–≤–µ–¥–∏—Ç–µ username (–Ω–∞–ø—Ä–∏–º–µ—Ä: @zachking)
- –ù–∞–∂–º–∏—Ç–µ "Analyze"

### 4. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏ –≤ –∫–æ–Ω—Å–æ–ª–∏

**Frontend –ª–æ–≥–∏ (–≤ –∫–æ–Ω—Å–æ–ª–∏ –±—Ä–∞—É–∑–µ—Ä–∞):**

```
TrendCard Debug: {
  id: "...",
  cover_image_url: "https://...",
  images: ["https://...", "https://..."],
  allImages: ["https://...", "https://..."],
  firstImage: "https://..."
}

‚úÖ Image loaded successfully: https://...
–∏–ª–∏
‚ùå Image load error: https://...
üîÑ Trying alternative source (attempt 1): https://...
```

**Backend –ª–æ–≥–∏ (–≤ —Ç–µ—Ä–º–∏–Ω–∞–ª–µ):**

```
üì∏ Post 12345: cover='https://p16-sign-sg.tiktokcdn.com/...'
üì∏ Post 12345: found 2 additional images
üì∏ Post 12345: img[0] = 'https://p16-sign-va.tiktokcdn.com/...'
```

### 5. –ß—Ç–æ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å:

#### ‚úÖ –ï—Å–ª–∏ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è –æ—Ç–æ–±—Ä–∞–∂–∞—é—Ç—Å—è:

- –ö–∞—Ä—Ç–æ—á–∫–∏ –¥–æ–ª–∂–Ω—ã –ø–æ–∫–∞–∑—ã–≤–∞—Ç—å –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è –≤–º–µ—Å—Ç–æ —Å–µ—Ä—ã—Ö –æ–±–ª–∞—Å—Ç–µ–π
- –ù–∞–≤–∏–≥–∞—Ü–∏–æ–Ω–Ω—ã–µ —Ç–æ—á–∫–∏ –≤–∏–¥–Ω—ã –¥–ª—è –º–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã—Ö –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π
- –°—á–µ—Ç—á–∏–∫ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç –ø—Ä–∞–≤–∏–ª—å–Ω–æ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ

#### ‚ùå –ï—Å–ª–∏ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è –Ω–µ –æ—Ç–æ–±—Ä–∞–∂–∞—é—Ç—Å—è:

**–ü—Ä–æ–≤–µ—Ä—å—Ç–µ –∫–æ–Ω—Å–æ–ª—å –±—Ä–∞—É–∑–µ—Ä–∞:**

1. **–ù–µ—Ç –¥–∞–Ω–Ω—ã—Ö —Å backend:**

   ```
   TrendCard Debug: { ..., allImages: [], firstImage: "" }
   ```

   ‚Üí –ü—Ä–æ–±–ª–µ–º–∞ –≤ backend –∏–∑–≤–ª–µ—á–µ–Ω–∏–∏

2. **–ï—Å—Ç—å URL, –Ω–æ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è –Ω–µ –∑–∞–≥—Ä—É–∂–∞—é—Ç—Å—è:**

   ```
   ‚ùå Image load error: https://...
   üîÑ Trying alternative source...
   ```

   ‚Üí CORS –ø—Ä–æ–±–ª–µ–º—ã –∏–ª–∏ –Ω–µ–¥–æ—Å—Ç—É–ø–Ω—ã–µ URL

3. **Fallback –ø—Ä–æ–∫—Å–∏ –Ω–µ —Ä–∞–±–æ—Ç–∞—é—Ç:**
   ```
   üí• Max retry attempts reached, showing fallback
   ```
   ‚Üí –ü—Ä–æ–±–ª–µ–º—ã —Å –ø—Ä–æ–∫—Å–∏ —Å–µ—Ä–≤–µ—Ä–∞–º–∏

### 6. –í–æ–∑–º–æ–∂–Ω—ã–µ —Ä–µ—à–µ–Ω–∏—è:

#### Backend –ø—Ä–æ–±–ª–µ–º—ã:

- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ ENSEMBLE_API_TOKEN
- –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ API –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –¥–∞–Ω–Ω—ã–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π

#### Frontend CORS –ø—Ä–æ–±–ª–µ–º—ã:

- Fallback –¥–æ–ª–∂–µ–Ω –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –ø—Ä–æ–∫—Å–∏
- –ü–æ–ø—Ä–æ–±—É–π—Ç–µ –¥—Ä—É–≥–∏–µ –ø—Ä–æ—Ñ–∏–ª–∏ (@daviddobrik, @selenagomez)

#### –°–µ—Ç–µ–≤—ã–µ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è:

- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –±—Ä–∞–Ω–¥–º–∞—É—ç—Ä/–∞–Ω—Ç–∏–≤–∏—Ä—É—Å
- –ü–æ–ø—Ä–æ–±—É–π—Ç–µ –¥—Ä—É–≥—É—é —Å–µ—Ç—å

## –í—Ä–µ–º–µ–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã –¥–ª—è –æ—Ç–ª–∞–¥–∫–∏:

–ü–æ—Å–ª–µ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è –æ—Ç–ª–∞–¥–∫–∏ —É–¥–∞–ª–∏—Ç—å:

- –õ–æ–≥–∏ `console.log` –∏–∑ TrendCard.tsx
- –õ–æ–≥–∏ `logger.info` –∏–∑ ensemble_service.py
- –≠—Ç–æ—Ç —Ñ–∞–π–ª DEBUG_IMAGES.md

## –û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:

–ü–æ—Å–ª–µ —É—Å–ø–µ—à–Ω–æ–π –æ—Ç–ª–∞–¥–∫–∏ –∫–∞—Ä—Ç–æ—á–∫–∏ –¥–æ–ª–∂–Ω—ã –≤—ã–≥–ª—è–¥–µ—Ç—å –∫–∞–∫ –Ω–∞ –º–∞–∫–µ—Ç–µ —Å –≤–∏–¥–∏–º—ã–º–∏ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è–º–∏ –≤–º–µ—Å—Ç–æ —Å–µ—Ä—ã—Ö –æ–±–ª–∞—Å—Ç–µ–π —Å –∫–Ω–æ–ø–∫–∞–º–∏ Play.
